import Arduino_Board_Discovery from '../images/device/Arduino_Board_Discovery.png' 
import Arduino_Board_PartNumber from '../images/device/Arduino_Board_PartNumber.png' 
import Arduino_Compile from '../images/device/Arduino_Compile.png' 
import LongFi_Example from '../images/device/LongFi_Example.png' 
import upload_sketch from '../images/device/upload_sketch.png' 

# LongFi Arduino Quickstart Guide

This guide will show you step by step how to transmit LongFi packets using a longfi-arduino example on an STMicroelectronics B-L072Z-LRWAN1 Discovery kit. The open-source Arduino platform provides easy to use hardware and software and decreases the technical overhead for beginners.  

For this example, youâ€™ll need the following:

* <a href="https://www.st.com/en/evaluation-tools/b-l072z-lrwan1.html" target="_blank">STMicroelectronics B-L072Z-LRWAN1 Discovery kit</a>
* <a href="https://www.arduino.cc/en/Main/Software" target="_blank">Arduino software (IDE)</a> 
* Micro USB Type B Cable - <a href="https://www.amazon.com/AmazonBasics-Male-Micro-Cable-Black/dp/B0719H12WD/ref=sr_1_2_sspa?" target="_blank">Example </a>

## Getting the Arduino IDE

Download and install <a href="https://www.arduino.cc/en/Main/Software" target="_blank">Arduino software (IDE) </a> for your preferred OS. 

* <a href="https://www.arduino.cc/en/Guide/Windows" target="_blank">Windows </a>
* <a href="https://www.arduino.cc/en/Guide/linux" target="_blank">Linux </a>
* <a href="https://www.arduino.cc/en/Guide/MacOSX" target="_blank">Mac OSX</a>

## Add STM32 board support to Arduino

<a href="https://github.com/stm32duino/wiki/wiki/Getting-Started" target="_blank">Instructions to add STM32 board support to Arduino</a> 

## Install the Arduino Library

This Arduino library needs to be manually installed as it has not been added to the Arduino Library registry yet. 

Clone the longfi-arduino repository to the following directory:

```
linux: /home/{user}/Arduino/libraries
windows: Documents/Arduino/libraries
mac os: Documents/Arduino/libraries
```

Then restart your Arduino IDE to load the library. 

## Getting access to the LongFi TransmitPacket Sketch

To clone the longfi-arduino repository, use the following command: 

```
git clone git@github.com:helium/longfi-arduino.git
```

## LongFi TransmitPacket Example Sketch

Arduino IDE:

* File -> Examples -> LongFi -> TransmitPacket

<img src={LongFi_Example} /> 

## Configuring the Arduino IDE for the B-L072Z-LRWAN1 - ST STM32L0 Discovery kit

Instructions to install the board support package can be found <a href="https://github.com/stm32duino/Arduino_Core_STM32#getting-started" target="_blank">here</a> 

Arduino IDE:

* Select Tools -> Board -> Discovery

<img src={Arduino_Board_Discovery} /> 

* Select Tools -> Board part number -> Discovery L072Z-LRWAN1

<img src={Arduino_Board_PartNumber} /> 

## Programming (Upload Method)

We will use the onboard ST-Link (Flasher/Debugger) to upload this sketch. 

Download and install the required utility from ST <a href="https://www.st.com/en/development-tools/stm32cubeprog.html" target="_blank">here</a> 

Arduino IDE:

* Select Tools -> Upload Method -> STM32CubeProgrammer(SWD)

<img src={upload_sketch} /> 

## Programming your Arduino Sketch

Arduino IDE:
* Select Sketch -> Verify/Compile (Ctrl + R)
* Select Sketch -> Upload (Ctrl + U)

<img src={Arduino_Compile} /> 

If there are no errors with your sketch, you should see `Done Compiling`

Then, you can upload the sketch and program the development board. 

Congratulations! You have just created your first Helium LongFi application! However, we are not done just yet. Now we have to check that these packets were broadcast and received by a nearby hotspot. Helium has created a dashboard called <a href="https://developer.helium.com/console/overview" target="_blank">Console</a>, which will help you onboard devices, like the one you've just built. 

If you have questions or suggestions on how to improve upon this example, feel free to submit feedback to developer@helium.com

To see what other developers are working on, join the Helium Community at https://community.helium.com/
